<!DOCTYPE html>
<html>

<meta charset="UTF-8">
<style>

</style>
<body>


 <script src="lib.js"></script> 


<script>

//-----------------------------------------------------------------------------
// global variables
//-----------------------------------------------------------------------------    

 file='x';
 ans_key = '';
 var file_name;
 window.onload=init();
//-----------------------------------------------------------------------------
//
//-----------------------------------------------------------------------------
   
function init() {
  const queryString = window.location.search;
  console.log(queryString);

  const urlParams = new URLSearchParams(queryString);
  
   file_name = (urlParams+"").split("=")[1];
  document.title=file_name;

  
  doGet("study_material/"+file_name+'.txt');

  
}






//-----------------------------------------------------------------------------
//
//-----------------------------------------------------------------------------
 async  function doGet(url) {
      let response = await fetch(url);

    console.log(response.status); // 200
    console.log(response.statusText); // OK

    if (response.status === 200) {
        let data = await response.text();
         file = data.split("\n"); 
         //file.shift();// shift() deletes the empty element.

         // parse the [] to make mini-quizes
         data=data.match(/(\[.*\])/g);

         data=data.join(" ").match(/[a-zA-ZäöüßÄÖÜ]+/g);
         
         data =data.join("<br/>");
         

         document.getElementById('data').innerHTML=data;
         
        
        
        // handle data
    }
}










</script>
<div>
<pre id='data'>x</pre><br/>

</div>
</body>
</html>

